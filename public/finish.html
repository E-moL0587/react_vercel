<!DOCTYPE html>
<html>
<head>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>終了</title>

</head>
<body>
  <h1>終了</h1>
  <h2 id="score"></h2>
  
  <button id="restartButton">もう一度</button>
  <button id="endButton">おわる</button>

  <script src="countdown.js"></script>
  <script src="finish.js"></script>
  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyBWi_KKj_5gr4pGrgn-44Z5WtQAitY2ZZo",
      authDomain: "my-quiz-project-3276.firebaseapp.com",
      projectId: "my-quiz-project-3276",
      storageBucket: "my-quiz-project-3276.appspot.com",
      messagingSenderId: "99054183032",
      appId: "1:99054183032:web:648f75961325fcd8e9838d",
    };
    firebase.initializeApp(firebaseConfig);

    function saveResult(result, name) {
      // Firestoreデータベースの参照を取得
      var db = firebase.firestore();

      // 結果と名前をドキュメントに保存
      db.collection("results").add({
        result: result,
        name: name
      })
      .then(function(docRef) {
        console.log("Document written with ID: ", docRef.id);
      })
      .catch(function(error) {
        console.error("Error adding document: ", error);
      });
    }

    // クイズが終了した後に結果と名前を保存
    var result = 80; // 結果を適切な値に設定する
    var name = "John Doe"; // 名前を適切な値に設定する
    saveResult(result, name);
  </script>
</body>
</html>
